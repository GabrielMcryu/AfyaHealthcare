{% extends 'healthcare/base.html' %}
{% block title %}View Doctors{% endblock %}
{% block content %}

<h1>Doctors</h1>
<table style="border: 1px solid">
    <tr>
        <th style="border: 1px solid">Name</th>
        <th style="border: 1px solid">Specialization</th>
        <th style="border: 1px solid"> </th>
        <th style="border: 1px solid"> </th>
    </tr>
    {% for doctor in doctor_list.all %}
    <tr>
        <td style="border: 1px solid">Dr. {{doctor.user.first_name}} {{doctor.user.last_name}}</td>
        <td style="border: 1px solid">{{doctor.specialization}}</td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:doctor' doctor.id %}">View</a></td>
        {% if not doctor.user_id == request.user.id and check_appointments < 1 %}
        <td style="border: 1px solid"><a href="{% url 'healthcare:book_appointment' doctor.id %}">Book Appointment</a></td>
        {% endif %}
    </tr>
    {% endfor %}
</table>

{% endblock %}