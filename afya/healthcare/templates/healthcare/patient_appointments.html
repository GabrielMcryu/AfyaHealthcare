{% extends 'healthcare/base.html' %}
{% block title %}View Appointments{% endblock %}
{% block content %}

<h1>Confirmed Appointments</h1>
<table style="border: 1px solid">
    <tr>
        <th style="border: 1px solid">Patient</th>
        <th style="border: 1px solid">Created at</th>
        <th style="border: 1px solid">Appointment Status</th>
        <th style="border: 1px solid"> </th>
        <th style="border: 1px solid"> </th>
        <th style="border: 1px solid"> </th>
    </tr>
    {% for appointment in approved_appointments %}
    <tr>
        <td style="border: 1px solid">{{appointment.user.user.first_name}} {{appointment.user.user.last_name}}</td>
        <td style="border: 1px solid">{{appointment.created_at}}</td>
        <td style="border: 1px solid">{{appointment.status}}</td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:patient_appointment' appointment.id %}">View</a></td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:complete' appointment.id %}">Complete</a></td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:cancel' appointment.id %}">Cancel</a></td>
    </tr>
    {% endfor %}

</table>

<h1>Pending Appointments</h1>
<table style="border: 1px solid">
    <tr>
        <th style="border: 1px solid">Patient</th>
        <th style="border: 1px solid">Created at</th>
        <th style="border: 1px solid">Appointment Status</th>
        <th style="border: 1px solid"> </th>
        <th style="border: 1px solid"> </th>
        <th style="border: 1px solid"> </th>
    </tr>
    {% for appointment in pending_appointments %}
    <tr>
        <td style="border: 1px solid">{{appointment.user.user.first_name}} {{appointment.user.user.last_name}}</td>
        <td style="border: 1px solid">{{appointment.created_at}}</td>
        <td style="border: 1px solid">{{appointment.status}}</td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:patient_appointment' appointment.id %}">View</a></td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:approve' appointment.id %}">Approve</a></td>
        <td style="border: 1px solid"><a href="{% url 'healthcare:reject' appointment.id %}">Reject</a></td>
    </tr>
    {% endfor %}

</table>

{% endblock %}